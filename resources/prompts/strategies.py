STRATEGY_PROMPTS = {
'narmoon_ai': """
هر بار سه تصویر نمودار با تایم‌فریم مختلف ارسال شد، دقیقاً طبق این ساختار و با رعایت همه جزئیات زیر پاسخ بده:

۱. تحلیل تایم‌فریم اول (تایم‌فریم انتخاب‌شده کاربر)
🔍 تحلیل تایم‌فریم X:
* اسم و تیکر نمودار
* قیمت فعلی: مقدار دقیق قیمت فعلی را از نمودار بخوان و ذکر کن.
* روند غالب: آیا بازار در این تایم‌فریم صعودی، نزولی یا رنج است؟ با استدلال بنویس، مثلاً: «در این تایم‌فریم سقف و کف‌های بالاتر تشکیل شده و ساختار بازار صعودی است» یا «شکست حمایت اصلی رخ داده و روند نزولی تأیید شده».
* سطوح کلیدی:
   * بالاترین نقطه (High) و پایین‌ترین نقطه (Low) اخیر را با رقم دقیق بنویس.
   * محدوده تعادلی (Equilibrium) یا قیمت میانی نمودار (اگر قابل تشخیص است).
   * مناطق مهم عرضه/تقاضا یا FVG (در صورت وجود)، همراه با توضیح واکنش‌های اخیر قیمت به این نواحی.
   * هر سطح مقاومتی یا حمایتی که قیمت اخیراً به آن واکنش نشان داده را به طور دقیق و با رقم ذکر کن.
* رفتار خرید/فروش و حجم:
   * آیا قدرت خریداران یا فروشندگان غالب است؟
   * وضعیت حجم معاملات را توضیح بده (آیا حجم بالا یا پایین است و چه تأثیری دارد؟).
   * رفتار قیمت در حوالی سایه‌های کندل‌ها (آیا شادو بالایی یا پایینی زیاد است و نشانه جمع‌آوری یا توزیع نقدینگی هست یا نه؟).

۲. تحلیل تایم‌فریم دوم (یک تایم‌فریم بالاتر)
🔍 تحلیل تایم‌فریم Y:
* اسم و تیکر نمودار
* قیمت فعلی: رقم دقیق فعلی بازار در این تایم‌فریم.
* روند غالب: روند صعودی/نزولی/رنج را توصیف کن و حتماً با یک جمله توضیح استدلالی بنویس (مثلاً "در این تایم‌فریم، همچنان ساختار سقف و کف بالاتر حفظ شده و روند صعودی ادامه دارد" یا "شکست حمایت اصلی رخ داده و بازار در فاز اصلاحی قرار گرفته").
* سطوح کلیدی و مهم:
   * مقاومت‌ها و حمایت‌های اصلی که می‌توانند روی تایم‌فریم پایین‌تر اثر بگذارند، با رقم دقیق ذکر شود.
   * اگر ساختار روند قوی یا تغییر روند (Break of Structure) دیده می‌شود، با توضیح بنویس.
   * هر نشانه‌ای که می‌تواند جهت حرکت آینده قیمت را مشخص کند (مانند فشردگی قیمت، شکل‌گیری رنج یا نزدیکی به سطوح تاریخی مهم).
* ساختار کلی بازار:
   * اگر روند غالب دچار تضعیف یا قدرت شده (مثلاً واگرایی قیمت و حجم، یا نزدیکی به محدوده مهم تاریخی)، آن را بنویس.

۳. تحلیل تایم‌فریم سوم (دو تایم‌فریم بالاتر)
🔍 تحلیل تایم‌فریم Z:
* اسم و تیکر نمودار
* قیمت فعلی: رقم دقیق فعلی بازار در این تایم‌فریم.
* روند غالب: روند صعودی/نزولی/رنج را توصیف کن و حتماً با یک جمله توضیح استدلالی بنویس (مثلاً "در این تایم‌فریم، همچنان ساختار سقف و کف بالاتر حفظ شده و روند صعودی ادامه دارد" یا "شکست حمایت اصلی رخ داده و بازار در فاز اصلاحی قرار گرفته").
* سطوح کلیدی و مهم:
   * مقاومت‌ها و حمایت‌های اصلی که می‌توانند روی تایم‌فریم پایین‌تر اثر بگذارند، با رقم دقیق ذکر شود.
   * اگر ساختار روند قوی یا تغییر روند (Break of Structure) دیده می‌شود، با توضیح بنویس.
   * هر نشانه‌ای که می‌تواند جهت حرکت آینده قیمت را مشخص کند (مانند فشردگی قیمت، شکل‌گیری رنج یا نزدیکی به سطوح تاریخی مهم).
* ساختار کلان بازار:
   * **تصویر کلی و جریان قیمتی:**
      * با ترکیب هر ۳ تایم‌فریم، وضعیت کلی بازار را در ۲-۳ جمله توضیح بده
      * مثال: "ETH در روند صعودی بلندمدت قرار دارد، اما در حال حاضر وارد فاز استراحت شده و در تایم‌فریم‌های کوچک رنج می‌زند"
      * موقعیت فعلی قیمت نسبت به کل سیکل را مشخص کن (آغاز، میانه، پایان روند؟)
   * **قدرت روند بلندمدت:** آیا در حال تقویت یا تضعیف است؟
   * **نشانه‌های تغییر روند:** هر علامتی از پایان یا ادامه روند فعلی

۴. جمع‌بندی نهایی و سناریوی معاملاتی مولتی‌تایم‌فریم
🌌 جمع‌بندی تحلیل مولتی‌تایم‌فریم:
* ترکیب و مقایسه تحلیل سه تایم‌فریم:
   * روندها و سطوح کلیدی را با هم تطبیق بده و اگر همسو بودند سناریوی غالب را به‌عنوان قوی‌ترین سناریو معرفی کن.
* سیگنال نهایی معاملاتی (فقط یکبار، در همین بخش):
   * **تأیید کیفیت سیگنال:** سیگنال پیشنهادی باید حداقل Risk/Reward نسبت 1:2 داشته باشد. اگر R/R مناسب نیست، هشدار بده و سیگنال ارائه نکن.
   * **زمان‌بندی ورود:** بهترین زمان ورود به معامله چه زمانی است؟ (بلافاصله، انتظار برای تأیید، یا انتظار برای pullback)
   * براساس ترکیب سه تایم‌فریم، فقط یک سناریوی معاملاتی نهایی ارائه بده (شورت یا لانگ)، با توضیح دقیق محدوده ورود (Entry Zone)، تارگت‌ها (TP1, TP2)، و حد ضرر (SL) بر اساس مهم‌ترین سطوح کلیدی.
* توصیه مدیریت ریسک:
   * حتماً بنویس که این تحلیل صرفاً برای اهداف آموزشی تهیه شده است و هیچ توصیه‌ای برای خرید یا فروش نیست. هر تصمیم معاملاتی باید با مدیریت ریسک و تایید دوباره بازار انجام شود.
""",

    'ema_scalping': """
نمودار پیوست‌شده را با استراتژی اسکالپینگ EMA تحلیل کن:

- تایم‌فریم‌ها و جفت ارز را شناسایی کن
- روند کلی هر تایم‌فریم: صعودی/نزولی/رنج
- وضعیت EMAهای کلیدی (مثلاً EMA 9/21/50) و کراس‌ها را بررسی کن

سناریوهای احتمالی:
- صعودی: شرط شکست مقاومت [سطح/محدوده]، اهداف محتمل
- نزولی: شرط شکست حمایت [سطح/محدوده]، اهداف محتمل
- رنج: نوسان بین حمایت و مقاومت

- مناطق ورود بر اساس کراس یا پولبک
- سیگنال پیشنهادی فقط اگر R/R ≥ ۱:۳ باشد (ورود، حد ضرر، تارگت)
- اگر ستاپ معتبر نیست، دلیل را بنویس
- تحلیل را خلاصه و بولت‌پوینت ارائه بده
""",

    'rsi_scalping': """
نمودار را با استراتژی اسکالپینگ RSI تحلیل کن:

- تایم‌فریم‌ها و جفت ارز را شناسایی کن
- روند کلی هر تایم‌فریم: صعودی/نزولی/رنج
- مقدار RSI و موقعیت آن (اشباع خرید/فروش) را بنویس
- واگرایی/همگرایی‌های RSI و قیمت

سناریوهای احتمالی:
- صعودی: شکست مقاومت و خروج RSI از اشباع فروش
- نزولی: شکست حمایت و خروج RSI از اشباع خرید
- رنج: نوسان بین دو سطح کلیدی

- سیگنال پیشنهادی فقط با R/R ≥ ۱:۳
- در صورت نبود ستاپ، علت را بنویس
- تحلیل را خلاصه و مرحله‌به‌مرحله
""",

    'squeeze_momentum': """
تحلیل نمودار با استراتژی Squeeze Momentum:

۱. شناسایی وضعیت فشردگی (Squeeze):
- بولینگر باند در حال فشرده شدن است؟
- حجم معاملات کاهش یافته؟
- نوسانات کم شده؟

۲. جهت شکست احتمالی:
- بررسی مومنتوم قبلی
- سطوح کلیدی بالا و پایین
- قدرت خریداران vs فروشندگان

۳. تارگت‌ها و ریسک:
- نقطه ورود پس از شکست
- حد ضرر زیر/بالای محدوده فشردگی
- اهداف بر اساس اندازه محدوده
""",

    'volatility_breakout': """
تحلیل شکست نوسان (Volatility Breakout):

۱. اندازه‌گیری نوسان فعلی:
- ATR یا محدوده قیمتی اخیر
- مقایسه با میانگین نوسان

۲. سطوح شکست کلیدی:
- مقاومت‌های مهم بالا
- حمایت‌های مهم پایین
- حجم مورد نیاز برای تأیید

۳. مدیریت معامله:
- ورود پس از تأیید شکست
- حد ضرر بر اساس ATR
- تارگت‌ها با ضریب ریسک به ریوارد مناسب
""",

    'trend_following': """
تحلیل دنبال‌کننده روند (Trend Following):

۱. تشخیص روند غالب:
- جهت میانگین‌های متحرک
- الگوی قله‌ها و دره‌ها
- قدرت و پایداری روند

۲. نقاط ورود در جهت روند:
- پولبک به میانگین متحرک
- شکست مقاومت در روند صعودی
- شکست حمایت در روند نزولی

۳. خروج و مدیریت ریسک:
- حد ضرر متحرک با روند
- تارگت‌های مرحله‌ای
- سیگنال‌های تضعیف روند
""",

    'mean_reversion': """
تحلیل بازگشت به میانگین (Mean Reversion):

۱. شناسایی انحراف از میانگین:
- فاصله قیمت از میانگین‌های متحرک
- باندهای بولینگر یا کانال کلتنر
- سطوح حمایت/مقاومت تاریخی

۲. سیگنال‌های بازگشت:
- الگوهای شمعی برگشتی
- واگرایی در اندیکاتورها
- کاهش مومنتوم در جهت فعلی

۳. اهداف و مدیریت:
- تارگت اول: میانگین متحرک نزدیک
- تارگت دوم: میانگین بلندمدت
- حد ضرر: ادامه حرکت فراتر از انحراف
"""
}

# اضافه کردن سایر استراتژی‌ها در صورت نیاز
